<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6048650039316363"
     crossorigin="anonymous"></script>
    <title>快活クラブ料金計算システム</title>
    <style>
      /* 全体に対するスタイル */
      * {
        box-sizing: border-box;
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        color: #333;
      }

      body {
        margin: 0;
        padding: 0;
      }

      h1 {
        margin-top: 30px;
        font-size: 36px;
        font-weight: bold;
        text-align: center;
      }

      form {
        margin: 30px auto;
        max-width: 600px;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #f9f9f9;
      }

      label {
        display: block;
        margin-bottom: 10px;
        font-size: 16px;
        font-weight: bold;
      }

      input[type="number"],
      input[type="time"] {
        padding: 10px;
        font-size: 16px;
        border-radius: 5px;
        border: 1px solid #ccc;
        width: 100%;
      }

      input[type="checkbox"] {
        margin-left: 10px;
      }

      button[type="button"] {
        display: block;
        margin: 20px auto 0;
        padding: 10px 20px;
        font-size: 16px;
        font-weight: bold;
        color: #fff;
        background-color: #007bff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      button[type="button"]:hover {
        background-color: #0069d9;
      }

      #result {
        margin-top: 20px;
        text-align: center;
      }

      #fee {
        font-size: 24px;
        font-weight: bold;
        color: #007bff;
      }

    </style>
</head>
<body>
    <h1>快活クラブ料金計算システム</h1>
    <form id="calculator-form">
        <p>下記のフォームに手動でパック料金などを入力してください。<br>
            この計算システムの使用によって損害が発生した場合でも管理者は一切責任を負いません。<br>
            新規入会時の手数料や食事などの料金は表示された金額に加算してください。<br></p>
        <label>年齢:
            <input type="number" id="age" required>
        </label>
        <label>滞在時間（分）:
            <input type="number" id="duration" required>
        </label>
        <label>入店時刻:
            <input type="time" id="checkin-time" required>
        </label>
        <label>30分料金:
            <input type="number" id="first-30min-fee" required>
        </label>
        <label>10分ごとの料金:
            <input type="number" id="every-10min-fee" required>
        </label>
        <label>3時間パック料金:
            <input type="number" id="pack-3hr-fee" required>
        </label>
        <label>6時間パック料金:
            <input type="number" id="pack-6hr-fee" required>
        </label>
        <label>9時間パック料金:
            <input type="number" id="pack-9hr-fee" required>
        </label>
        <label>12時間パック料金:
            <input type="number" id="pack-12hr-fee" required>
        </label>
        <label>15時間パック料金:
            <input type="number" id="pack-15hr-fee" required>
        </label>
        <label>18時間パック料金:
            <input type="number" id="pack-18hr-fee" required>
        </label>
        <label>21時間パック料金:
            <input type="number" id="pack-21hr-fee" required>
        </label>
        <label>24時間パック料金:
            <input type="number" id="pack-24hr-fee" required>
        </label>
        <label>ナイト8時間パック料金:
            <input type="number" id="night-8hr-fee" required>
        </label>
        <label>学生割引適用:
            <input type="checkbox" id="student-discount">
        </label>
        <button type="button" id="calculate">料金を計算</button>
    </form>
    <h2 id="result" style="display:none;">料金: <span id="fee"></span>円</h2>

    <script>
        function calculateFee() {
            const age = parseInt(document.getElementById('age').value);
            const duration = parseInt(document.getElementById('duration').value);
            const checkinTime = document.getElementById('checkin-time').value;
            const first30MinFee = parseInt(document.getElementById('first-30min-fee').value);
            const every10MinFee = parseInt(document.getElementById('every-10min-fee').value);
            const packFees = [
                parseInt(document.getElementById('pack-3hr-fee').value),
                parseInt(document.getElementById('pack-6hr-fee').value),
                parseInt(document.getElementById('pack-9hr-fee').value),
                parseInt(document.getElementById('pack-12hr-fee').value),
                parseInt(document.getElementById('pack-15hr-fee').value),
                parseInt(document.getElementById('pack-18hr-fee').value),
                parseInt(document.getElementById('pack-21hr-fee').value),
                parseInt(document.getElementById('pack-24hr-fee').value),
            ];
            const night8HrFee = parseInt(document.getElementById('night-8hr-fee').value);
            const studentDiscount = document.getElementById('student-discount').checked;

            let fee = 0;

            if (age <= 12) {
                fee = 0;
            } else {
                const checkinHour = parseInt(checkinTime.split(':')[0]);
                const nightPackAvailable = checkinHour >= 20 || checkinHour < 4;

                let packIndex = Math.floor(duration / 180);
                if (packIndex > 7) packIndex = 7;

                let packFee = packFees[packIndex];

                if (age >= 65) {
                    packFee *= 0.9;
                } else if (studentDiscount) {
                    packFee *= 0.8;
                }

                let regularFee = first30MinFee;
                let remainingDuration = duration - 30;
                while (remainingDuration > 0) {
                    regularFee += every10MinFee;
                    remainingDuration -= 10;
                }

                fee = Math.min(packFee, regularFee);

                if (nightPackAvailable && duration <= 480) {
                    fee = Math.min(fee, night8HrFee);
                }
            }

            document.getElementById('fee').innerText = fee;
            document.getElementById('result').style.display = 'block';
        }

        document.getElementById('calculate').addEventListener('click', calculateFee);
    </script>
</body>
</html>
